{
  "main": "./electron-main.js",
  "bin": {
    "trilium": "src/main.js"
  },
  "type": "module",
  "scripts": {    
    "server:start-safe": "cross-env TRILIUM_DATA_DIR=./data TRILIUM_ENV=dev nodemon src/main.ts",
    "server:start-no-dir": "cross-env TRILIUM_ENV=dev nodemon src/main.ts",
    "server:start-test": "npm run server:switch && rimraf ./data-test && cross-env TRILIUM_DATA_DIR=./data-test TRILIUM_ENV=dev TRILIUM_PORT=9999 nodemon src/main.ts",
    "server:qstart": "npm run server:switch && npm run server:start",
    "server:switch": "rimraf ./node_modules/better-sqlite3 && npm install",
    "electron:start": "cross-env NODE_OPTIONS=\"--import tsx\" TRILIUM_DATA_DIR=./data TRILIUM_ENV=dev electron ./electron-main.ts --inspect=5858 .",
    "electron:start-no-dir": "cross-env NODE_OPTIONS=\"--import tsx\" TRILIUM_ENV=dev TRILIUM_PORT=37742 electron --inspect=5858 .",
    "electron:start-nix": "electron-rebuild --version 33.3.1 && cross-env NODE_OPTIONS=\"--import tsx\" TRILIUM_DATA_DIR=./data TRILIUM_ENV=dev nix-shell -p electron_33 --run \"electron ./electron-main.ts --inspect=5858 .\"",
    "electron:start-nix-no-dir": "electron-rebuild --version 33.3.1 && cross-env NODE_OPTIONS=\"--import tsx\" TRILIUM_ENV=dev TRILIUM_PORT=37742 nix-shell -p electron_33 --run \"electron ./electron-main.ts --inspect=5858 .\"",
    "electron:start-prod": "npm run build:prepare-dist && cross-env TRILIUM_DATA_DIR=./data TRILIUM_ENV=prod electron ./dist/electron-main.js --inspect=5858 .",
    "electron:start-prod-no-dir": "npm run build:prepare-dist && cross-env TRILIUM_ENV=prod electron --inspect=5858 .",
    "electron:start-prod-nix": "electron-rebuild --version 33.3.1 && npm run build:prepare-dist && cross-env TRILIUM_DATA_DIR=./data TRILIUM_ENV=dev nix-shell -p electron_33 --run \"electron ./dist/electron-main.js --inspect=5858 .\"",
    "electron:start-prod-nix-no-dir": "electron-rebuild --version 33.3.1 && npm run build:prepare-dist && cross-env TRILIUM_ENV=dev nix-shell -p electron_33 --run \"electron ./dist/electron-main.js --inspect=5858 .\"",
    "electron:qstart": "npm run electron:switch && npm run electron:start",
    "electron:switch": "electron-rebuild",
    "docs:edit": "cross-env NODE_OPTIONS=\"--import tsx\" TRILIUM_DATA_DIR=./data-docs TRILIUM_ENV=dev TRILIUM_INTEGRATION_TEST=memory-no-store TRILIUM_PORT=37741 electron ./electron-docs-main.ts .",
    "docs:edit-nix": "electron-rebuild --version 33.3.1 && cross-env NODE_OPTIONS=\"--import tsx\" TRILIUM_DATA_DIR=./data-docs TRILIUM_PORT=37741 TRILIUM_ENV=dev TRILIUM_INTEGRATION_TEST=memory-no-store nix-shell -p electron_33 --run \"electron ./electron-docs-main.ts .\"",
    "demo:edit": "cross-env NODE_OPTIONS=\"--import tsx\" TRILIUM_DATA_DIR=./data-demo TRILIUM_ENV=dev TRILIUM_INTEGRATION_TEST=memory-no-store TRILIUM_PORT=37741 electron ./electron-edit-demo.ts .",
    "demo:edit-nix": "electron-rebuild --version 33.3.1 && cross-env NODE_OPTIONS=\"--import tsx\" TRILIUM_DATA_DIR=./data-docs TRILIUM_PORT=37741 TRILIUM_ENV=dev TRILIUM_INTEGRATION_TEST=memory-no-store nix-shell -p electron_33 --run \"electron ./electron-edit-demo.ts .\"",
    "electron-forge:start": "npm run build:prepare-dist && cd ./build && electron-forge start",
    "electron-forge:make": "npm run build:prepare-dist && cross-env DEBUG=electron-windows-installer:* electron-forge make ./build",
    "electron-forge:package": "npm run build:prepare-dist && cd ./build && electron-forge package",    
    "docs:build": "typedoc",    
    "build:clean": "rimraf ./dist ./build",
    "build:prepare-dist": "npm run build:clean && npm run build:ts && npm run build:webpack && tsx ./bin/copy-dist.ts",
    "test": "npm run client:test && npm run server:test",
    "server:test": "cross-env TRILIUM_ENV=dev TRILIUM_DATA_DIR=./integration-tests/db TRILIUM_INTEGRATION_TEST=memory vitest",
    "server:coverage": "cross-env TRILIUM_ENV=dev TRILIUM_DATA_DIR=./integration-tests/db TRILIUM_INTEGRATION_TEST=memory vitest --coverage",
    "client:test": "cross-env TRILIUM_ENV=dev TRILIUM_DATA_DIR=./integration-tests/db TRILIUM_INTEGRATION_TEST=memory vitest --root src/public/app",
    "client:coverage": "cross-env TRILIUM_ENV=dev TRILIUM_DATA_DIR=./integration-tests/db TRILIUM_INTEGRATION_TEST=memory vitest --root src/public/app --coverage",
    "test:playwright": "playwright test --workers 1",
    "test:integration-edit-db": "cross-env TRILIUM_INTEGRATION_TEST=edit TRILIUM_PORT=8081 TRILIUM_ENV=dev TRILIUM_DATA_DIR=./integration-tests/db nodemon src/main.ts",
    "test:integration-mem-db": "cross-env TRILIUM_INTEGRATION_TEST=memory TRILIUM_PORT=8082 TRILIUM_DATA_DIR=./integration-tests/db nodemon src/main.ts",
    "test:integration-mem-db-dev": "cross-env TRILIUM_INTEGRATION_TEST=memory TRILIUM_PORT=8082 TRILIUM_ENV=dev TRILIUM_DATA_DIR=./integration-tests/db nodemon src/main.ts",
    "dev:watch-dist": "tsx ./bin/watch-dist.ts",
    "dev:format-check": "eslint -c eslint.format.config.js .",
    "dev:format-fix": "eslint -c eslint.format.config.js . --fix",
    "dev:linter-check": "eslint .",
    "dev:linter-fix": "eslint . --fix",    
    "chore:generate-document": "cross-env nodemon ./bin/generate_document.ts 1000",
    "chore:generate-openapi": "tsx bin/generate-openapi.js"
  },
  "dependencies": {            
    "dayjs-plugin-utc": "0.1.2",    
    "electron-debug": "4.1.0",
    "electron-dl": "4.0.0",
    "electron-squirrel-startup": "1.0.1",    
    "http-proxy-agent": "7.0.2",
    "https-proxy-agent": "7.0.6",        
    "sax": "1.4.1",            
    "yauzl": "3.2.0"
  },
  "devDependencies": {
    "@electron-forge/cli": "7.8.0",
    "@electron-forge/maker-deb": "7.8.0",
    "@electron-forge/maker-dmg": "7.8.0",
    "@electron-forge/maker-flatpak": "7.8.0",
    "@electron-forge/maker-rpm": "7.8.0",
    "@electron-forge/maker-squirrel": "7.8.0",
    "@electron-forge/maker-zip": "7.8.0",
    "@electron-forge/plugin-auto-unpack-natives": "7.8.0",
    "@electron/rebuild": "3.7.2",
    "@playwright/test": "1.51.1",
    "@stylistic/eslint-plugin": "4.2.0",        
    "@types/electron-squirrel-startup": "1.0.2",
    "@types/express": "5.0.1",    
    "@types/node": "22.14.1",    
    "@types/yargs": "17.0.33",
    "@vitest/coverage-v8": "3.1.1",
    
    "electron": "35.1.5",
    "eslint": "9.24.0",
    "eslint-plugin-simple-import-sort": "12.1.1",
    "esm": "3.2.25",
    "globals": "16.0.0",
    "happy-dom": "17.4.4",
    "jsdoc": "4.0.4",
    "lorem-ipsum": "2.0.8",    
    "rcedit": "4.0.1",
    "rimraf": "6.0.1",    
    "tslib": "2.8.1",    
    "typedoc": "0.28.2",
    "typedoc-plugin-missing-exports": "4.0.0"
  },
  "optionalDependencies": {
    "appdmg": "0.6.6"
  }
}
